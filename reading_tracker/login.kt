package com.example.reading_trackerimport android.os.Bundleimport androidx.fragment.app.Fragmentimport android.view.LayoutInflaterimport android.view.Viewimport android.view.ViewGroupimport android.widget.Buttonimport android.widget.Toastimport androidx.lifecycle.LifecycleOwnerimport androidx.lifecycle.Observerimport androidx.lifecycle.ViewModelProviderimport androidx.navigation.findNavControllerimport com.example.reading_tracker.databinding.FragmentLoginBindingimport com.google.android.material.chip.Chipimport com.google.android.material.snackbar.Snackbarclass login : Fragment() {    // TODO: Rename and change types of parameters    private var _binding: FragmentLoginBinding? = null    private val binding get() = _binding!!    override fun onCreateView(        inflater: LayoutInflater, container: ViewGroup?,        savedInstanceState: Bundle?,    ): View? {        _binding = FragmentLoginBinding.inflate(inflater, container, false)        val view = binding.root        val application = requireNotNull(this.activity).application        val dao = NewLibraryDatabase.getInstance(application).userDao        val viewModelFactory = UserViewModelFactory(dao)        val viewModel = ViewModelProvider(            this, viewModelFactory).get(UserViewModel::class.java)        binding.viewModel = viewModel        binding.lifecycleOwner = viewLifecycleOwner        val signIn =view.findViewById<Button>(R.id.signIn)        viewModel.isNull.observe(viewLifecycleOwner, Observer {value->            if(value==true){                Toast.makeText(this.context,"Entered email and password not valid",Toast.LENGTH_LONG).show()            }            else{                val user = Users()                val action = loginDirections                    .actionLoginToMyLibrary(user.userId)                view.findNavController().navigate(action)            }        })        val register = view.findViewById<Chip>(R.id.register)        register.setOnClickListener {            view.findNavController()                .navigate(R.id.action_login_to_register2)        }        return view    }    override fun onDestroyView() {        super.onDestroyView()        _binding = null    }}